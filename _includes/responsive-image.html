{% comment %}
  Responsive Image Include mit WebP-Unterst√ºtzung

  Usage:
  {% include responsive-image.html
     src="/assets/images/bild.jpg"
     alt="Beschreibung"
     class="optional-class" %}
{% endcomment %}

{% assign img_path = include.src %}
{% assign img_ext = img_path | split: '.' | last %}
{% assign img_base = img_path | remove: '.' | remove: img_ext %}
{% assign webp_path = img_base | append: '.webp' %}

<picture>
  <source type="image/webp" srcset="{{ webp_path | relative_url }}">
  <img src="{{ img_path | relative_url }}"
       alt="{{ include.alt }}"
       {% if include.class %}class="{{ include.class }}"{% endif %}
       loading="lazy">
</picture>